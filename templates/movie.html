{% extends 'default.html' %}

{% set title = 'Film: "' + movie.title + '"' %}
{% set mainID = 'movie-details' %}

{% block main %}
	<div class="row">
		<img class="poster" src="{{ movie.get('poster') }}">
		<div>
			<div class="title">
				{{ movie.title }}
			</div>
			<div class="row">
				<ul class="row">
					<li class="year">
						{{ movie.get('date') }}
					</li>
					<li class="duration">
						{{ movie.get('duration')[0] }} h
						{{ movie.get('duration')[1] }} min
					</li>
				</ul>
				<ul class="row badges">
					{% for badge in ['age-rating', 'resolution'] %}
						{% if movie.get(badge) %}
							<li class="badge">{{ movie.get(badge) }}</li>
						{% endif %}
					{% endfor %}
				</ul>
			</div>
			<ul class="row actions">
				<li>
					<a onclick="playAsFullscreen('#movie-stream > video');">
						<i class="fa fa-play"></i>Abspielen
					</a>
				</li>
			</ul>
			<div class="description">
				{{ movie.get('description') }}
			</div>
			{% if movie.get('credits') %}
				<div class="row short-credits">
					<ul>
						{% for category, names in movie.get('credits').items() %}
							{% if category in ['director', 'author', 'studio', 'genre'] and names != [] and names != "" %}
								<li class="{{ category }}">
									{% if type(names) == list %}
										{{ ', '.join(names) }}
									{% else %}
										{{ names }}
									{% endif %}
								</li>
							{% endif %}
						{% endfor %}
					</ul>
				</div>
			{% endif %}
		</div>
	</div>

	<div id="movie-stream">
		<video controls>
			<source src="stream/" type="video/mp4">
			<!-- <track src="subtitles/de/" kind="subtitles" srclang="de" label="Deutsch"> -->
			<!-- <track src="subtitles/en/" kind="subtitles" srclang="en" label="Englisch"> -->
		</video>
	</div>
{% endblock %}