{% extends 'default.html' %}

{% set title = 'Filmbibliothek' %}
{% set asideID = 'search-bar' %}
{% set mainID = 'movie-index' %}

{% block aside %}
	<input id="search-input" type="text" placeholder="Filme durchsuchen ...">
{% endblock %}

{% block main %}
	{% for movieID, data in movies.items() %}
		<div id="movie-{{ movieID }}" class="movie-overview">
			<a href="movie/{{ movieID }}/">
				{% if data.get('poster') %}
					<img class="poster" src="{{ data.get('poster') | e }}">
				{% else %}
					<img class="poster" src="{{ url_for('static', filename='images/blank-poster.jpg') }}">
				{% endif %}
			</a>
			<div class="title">
				{% if config.get('title_length', 0) != 0 %}
					{{ data.title | truncate(config.get('title_length')) | e }}
				{% else %}
					{{ data.title | e }}
				{% endif %}
			</div>
			{% if data.get('year') %}
				<div class="year">
					{{ data.get('year') | e }}
				</div>
			{% endif %}
		</div>
	{% endfor %}
{% endblock %}